#sudo: required
#dist: trusty
#language: cpp

#addons:
#  apt:
#    packages:
#    - cmake
#    - cppcheck
#    - libboost-all-dev
#    - libmysqlcppconn-dev
#
#cache:
#  directories:
#    - $HOME/protobuf
#    - $HOME/cppcheck
#
#before_install:
#  - ./protocol/install_protobuf.sh
#  - ./scripts/install_cppcheck.sh
#
#script:
#  - ./scripts/build_server.sh
#  - ./scripts/do_cppcheck.sh

sudo: required
language: cpp

services:
  - docker

before_install:
  - docker pull ilssim/main

script:
  - docker run -t -i -v $PWD:/src -w /src ilssim/main /bin/bash scripts/build_server.sh && /bin/bash scripts/do_cppcheck.sh
